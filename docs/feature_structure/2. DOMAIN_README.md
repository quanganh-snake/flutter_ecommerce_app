```
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ category_entity.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ category_repository.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ usecases/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get_categories_usecase.dart
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create_category_usecase.dart
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update_category_usecase.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ delete_category_usecase.dart
â”‚   â”‚   â”‚   â””â”€â”€ validators/
â”‚   â”‚   â”‚       â”œâ”€â”€ category_name.dart
â”‚   â”‚   â”‚       â””â”€â”€ category_image_url.dart
```

# ğŸ“ entities/

â†’ MÃ´ táº£ dá»¯ liá»‡u cá»‘t lÃµi cá»§a nghiá»‡p vá»¥

â†’ CÃ³ thá»ƒ khai bÃ¡o cÃ¡c logic nghiá»‡p vá»¥ bÃªn trong

```dart
class OrderEntity {
  final List<OrderItem> items;
  final double shippingFee;

  double get totalPrice =>
      items.fold(0, (s, i) => s + i.price * i.qty) + shippingFee;
}

```

â†’ 1 Entity = nhiá»u báº£ng

```dart
class UserProfileEntity {
  final UserEntity user;
  final AddressEntity address;
}

```

# ğŸ“ usecases/

â†’ Má»—i file = 1 hÃ nh Ä‘á»™ng nghiá»‡p vá»¥
â†’ VÃ­ dá»¥:

```
- GetCategoriesUsecase
- CreateCategoryUsecase
- UpdateCategoriesUsecase
- DeleteCategoryUsecase
- ...
```

# ğŸ“ repositories/

â†’ Ná»‘i Domain â†” Data

â†’ Äá»‹nh nghÄ©a cÃ¡c nghiá»‡p vá»¥ (sá»­ dá»¥ng abstract class) â†’ Muá»‘n lÃ m nghiá»‡p vá»¥ cho feature (vd: Category), tÃ´i Cáº¦N cÃ¡c hÃ nh Ä‘á»™ng nÃ y

â†’ KhÃ´ng biáº¿t: - Firebase - API - JSON

â†’ Chá»‰ biáº¿t: - Entity - Result - Business intent

- Nhiá»‡m vá»¥:
  - Gá»i datasource

  - Catch exception

  - Tráº£ vá» Result

```dart
abstract class CategoryRepository {
  Future<Result<List<CategoryEntity>>> getCategories();
  Future<Result<void>> createCategory(CategoryEntity category);
}

```

# ğŸ“ validators/

- DÃ¹ng thÆ° viá»‡n: formz

- Má»—i 1 field = 1 validator

```dart
import 'package:formz/formz.dart';

enum CategoryNameError { empty }

class CategoryName extends FormzInput<String, CategoryNameError> {
  const CategoryName.pure() : super.pure('');
  const CategoryName.dirty(super.value) : super.dirty();

  @override
  CategoryNameError? validator(String value) {
    return value.trim().isEmpty ? CategoryNameError.empty : null;
  }
}


```
